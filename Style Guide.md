# BMSTU CS Style Guide

> Стайл гайд и общий список советов при написании кода на C++ для студентов курса “Программирование на основе классов и шабллонов” кафедры ИУ5 МГТУ им. Н.Э. Баумана.

## Содержание
- [Общие правила](Общие-правила)
  - [STL и ООП](STL-и-ООП)
  - [Компиляция](Компиляция)
  - [DRY](DRY)
  - [KISS](KISS)
- [Статические и динамические библиотеки](Статические-и-динамические-библиотеки)
  - [Статическая библиотека](Статическая-библиотека)
  - [Динамическая библиотека](Динамическая-библиотека)
  - [Библиотеки импорта](Библиотеки-импорта)
  - [Установка и использование библиотек](Установка-и-использование-библиотек)
- [Разработка кроссплатформенных приложений](Разработка-кроссплатформенных-приложений)


## Общие правила

>Общие правила были описаны в [Style Guade](https://fitoliaka.github.io/IU5/CPP/Style%20Guide.html) в 1 семестре.

напомним:

Независимо от ваших предпочтений, следование данному `Style Guade` **абсолютно обязательно**.
В названиях должен быть использован грамотный английский язык.

### STL и ООП

Использование элементов **ООП**  постепенно будет доступно для использования. Уточняйте у ваших преподавателей с какими контейнерами и классами стандартных библиотек в каких лабораторных можно использовать.

### Компиляция

Любая компиляция исходного кода должна сопровождаться флагами *-Wall*, *-Wextra*, *-Werror* и -*Wpedantic*.

Благодаря этим флагам компилятор интерпретирует предупреждения как ошибки компиляции, что заставляет писать более аккуратный и безопасный код.

### DRY

**DRY** - Don’t Repeat Yourself. Принцип разработки, согласно которому следует избегать дублирование кода в приложении.

Старайтесь грамотно декомпозировать код на отдельные функции, которые затем можно переиспользовать в разных местах.

Если какая-то часть функциональности повторяется в разных местах - это повод вынести ее в отдельную функцию. В таком случае, если понадобится внести изменения, то их достаточно будет применить в одном месте, вместо нескольких. Это уменьшает вероятность появления ошибки и упрощает разработку.

Следует внимательно относится к данному принципу и не следовать ему слишком фанатично, так как это может привести к усилению [зацепления](https://ru.wikipedia.org/wiki/%D0%97%D0%B0%D1%86%D0%B5%D0%BF%D0%BB%D0%B5%D0%BD%D0%B8%D0%B5_(%D0%BF%D1%80%D0%BE%D0%B3%D1%80%D0%B0%D0%BC%D0%BC%D0%B8%D1%80%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B5)).

### KISS

**KISS** - Keep It Simple, Stupid. Принцип разработки, согласно которому следует предпочитать простые конструкции сложным.

По возможности избегайте неоправданного усложнения кода и пишите такой код, который будет понятен постороннему человеку, находящемуся вне контекста.

## Статические и динамические библиотеки

`Библиотека` — это набор кода для повторного использования в разных программах. Обычно библиотека C++ состоит из:

- `заголовочного` файла (описание функций),

- `скомпилированного` бинарного файла (реализация).

Библиотеки компилируются заранее, чтобы экономить время и защищать исходный код.

Существуют **два типа библиотек**: статические и динамические.

#### *Статическая библиотека*

Статическая библиотека подключается к программе во время компиляции и становится частью исполняемого файла.
Расширения: `.lib` (Windows), `.a` (Linux).

Плюсы:

- нужен только один исполняемый файл;
- всегда используется нужная версия библиотеки.

Минусы:

- увеличивает размер программы;
- для обновления библиотеки нужно пересобирать приложение.

#### *Динамическая библиотека*

Динамическая библиотека загружается во время выполнения и остаётся отдельным файлом.
Расширения: `.dll` (Windows), `.so` (Linux).

Плюсы:

- несколько программ могут использовать одну библиотеку;
- библиотеку можно обновлять без пересборки программ.

Минусы:

- сложнее в использовании;
- требуется механизм загрузки и подключения.

Для упрощения работы с динамическими библиотеками используются `библиотеки импорта`, которые позволяют работать с ними почти так же, как со статическими.

#### *Библиотеки импорта*

`Библиотека импорта` — это вспомогательная библиотека, которая упрощает использование динамической библиотеки.

В Windows библиотека импорта обычно имеет расширение `.lib` и связана с динамической библиотекой `.dll`. Она подключается к программе во время компиляции, а при запуске приложения автоматически загружается соответствующая динамическая библиотека.

В Linux файл `.so` одновременно выполняет роль динамической библиотеки и библиотеки импорта.

Назначение библиотеки импорта:

- автоматизирует загрузку динамической библиотеки;
- позволяет использовать функции динамической библиотеки так же, как статической;
- упрощает компоновку и работу с динамическими библиотеками.

### Установка и использование библиотек

#### *Использование библиотеки в C++* обычно включает 4 основных шага:

1. **Получить библиотеку** Желательно скачать готовую (скомпилированную) версию для вашей ОС. В Linux — через менеджеры пакетов, в Windows библиотеки часто распространяются как ZIP-архивы.

2. **Установить библиотеку** В Linux установка обычно выполняется через менеджер пакетов. В Windows библиотеку чаще всего просто распаковывают в отдельную папку (например, C:\Libs).

3. **Указать компилятору путь к заголовочным файлам** Обычно это каталог `include` библиотеки. В Linux он часто уже находится в стандартном пути поиска.

4. **Указать компоновщику путь к файлам библиотеки** Обычно это каталог `lib`. В Linux стандартный путь — `/usr/lib`.

#### *Использование библиотеки в проекте*

Для каждого проекта необходимо:

1. **Указать файлы библиотек для компоновки** Требуется для статических библиотек и библиотек импорта.
2. **Подключить заголовочные файлы** Это сообщает компилятору о доступных функциях библиотеки.

3. **Обеспечить доступ к динамическим библиотекам** В Linux — через стандартные пути или переменную `LD_LIBRARY_PATH`. В Windows — проще всего разместить .dll рядом с исполняемым файлом.

## Разработка кроссплатформенных приложений
